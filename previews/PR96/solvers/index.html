<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Solvers · RegularizedLeastSquares.jl</title><meta name="title" content="Solvers · RegularizedLeastSquares.jl"/><meta property="og:title" content="Solvers · RegularizedLeastSquares.jl"/><meta property="twitter:title" content="Solvers · RegularizedLeastSquares.jl"/><meta name="description" content="Documentation for RegularizedLeastSquares.jl."/><meta property="og:description" content="Documentation for RegularizedLeastSquares.jl."/><meta property="twitter:description" content="Documentation for RegularizedLeastSquares.jl."/><meta property="og:url" content="https://github.com/JuliaImageRecon/RegularizedLeastSquares.jl/solvers/"/><meta property="twitter:url" content="https://github.com/JuliaImageRecon/RegularizedLeastSquares.jl/solvers/"/><link rel="canonical" href="https://github.com/JuliaImageRecon/RegularizedLeastSquares.jl/solvers/"/><script data-outdated-warner src="../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../search_index.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-mocha.css" data-theme-name="catppuccin-mocha"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-macchiato.css" data-theme-name="catppuccin-macchiato"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-frappe.css" data-theme-name="catppuccin-frappe"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-latte.css" data-theme-name="catppuccin-latte"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit"><a href="../">RegularizedLeastSquares.jl</a></span></div><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li><a class="tocitem" href="../">Home</a></li><li><a class="tocitem" href="../generated/examples/getting_started/">Getting Started</a></li><li><input class="collapse-toggle" id="menuitem-3" type="checkbox"/><label class="tocitem" for="menuitem-3"><span class="docs-label">Examples</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../generated/examples/compressed_sensing/">Compressed Sensing</a></li><li><a class="tocitem" href="../generated/examples/computed_tomography/">Computed Tomography</a></li></ul></li><li class="is-active"><a class="tocitem" href>Solvers</a><ul class="internal"><li><a class="tocitem" href="#Solver-Construction"><span>Solver Construction</span></a></li><li><a class="tocitem" href="#Solver-Usage"><span>Solver Usage</span></a></li><li><a class="tocitem" href="#Solver-Internals"><span>Solver Internals</span></a></li></ul></li><li><a class="tocitem" href="../generated/explanations/regularization/">Regularization</a></li><li><input class="collapse-toggle" id="menuitem-6" type="checkbox"/><label class="tocitem" for="menuitem-6"><span class="docs-label">How to</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../generated/howto/weighting/">Weighting</a></li><li><a class="tocitem" href="../generated/howto/normal_operator/">Normal Operator</a></li><li><a class="tocitem" href="../generated/howto/multi_threading/">Multi-Threading</a></li><li><a class="tocitem" href="../generated/howto/gpu_acceleration/">GPU Acceleration</a></li><li><a class="tocitem" href="../generated/howto/efficient_kaczmarz/">Efficient Kaczmarz</a></li><li><a class="tocitem" href="../generated/howto/callbacks/">Callbacks</a></li><li><a class="tocitem" href="../generated/howto/plug-and-play/">Plug-and-Play Regularization</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-7" type="checkbox"/><label class="tocitem" for="menuitem-7"><span class="docs-label">API Reference</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../API/solvers/">Solvers</a></li><li><a class="tocitem" href="../API/regularization/">Regularization Terms</a></li></ul></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>Solvers</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Solvers</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/JuliaImageRecon/RegularizedLeastSquares.jl/blob/master/docs/src/solvers.md#" title="Edit source on GitHub"><span class="docs-icon fa-solid"></span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><h1 id="Solvers"><a class="docs-heading-anchor" href="#Solvers">Solvers</a><a id="Solvers-1"></a><a class="docs-heading-anchor-permalink" href="#Solvers" title="Permalink"></a></h1><p>RegularizedLeastSquares.jl provides a variety of solvers, which are used in fields such as MPI and MRI. The following gives an overview of implemented solvers and roughly which regularization terms are applicable for them:</p><table><tr><th style="text-align: right">Solver</th><th style="text-align: right">Regularization</th></tr><tr><td style="text-align: right"><code>Kaczmarz</code> (Also called Algebraic reconstruction technique)</td><td style="text-align: right"><span>$l_2^2$</span> and one additional term</td></tr><tr><td style="text-align: right">Conjugate Gradients Normal Residual method (<code>CGNR</code>)</td><td style="text-align: right"><span>$l_2^2$</span></td></tr><tr><td style="text-align: right">Fast Iterative Shrinkage Thresholding Algorithm (<code>FISTA</code>)</td><td style="text-align: right">Any one term</td></tr><tr><td style="text-align: right">Optimal Iterative Shrinkage Thresholding Algorithm (<code>OptISTA</code>)</td><td style="text-align: right">Any one term</td></tr><tr><td style="text-align: right">Proximal Optimized Gradient Method (<code>POGM</code>)</td><td style="text-align: right">Any one term</td></tr><tr><td style="text-align: right">Alternating Direction of Multipliers Method (<code>ADMM</code>)</td><td style="text-align: right">Several terms</td></tr><tr><td style="text-align: right"><code>SplitBregman</code></td><td style="text-align: right">Several terms</td></tr><tr><td style="text-align: right"><code>DirectSolver</code></td><td style="text-align: right"><span>$l_2^2$</span></td></tr><tr><td style="text-align: right"><code>PseudoInverse</code></td><td style="text-align: right"><span>$l_2^2$</span></td></tr></table><p>It is also possible to provide custom terms by implementing a proximal mapping. Generally, these algorithms are correct for regularization terms that are convex and possibly non-smooth. See <a href="../generated/explanations/regularization/">Regularization</a>, for more information on regularization terms. </p><p>For convenience reasons, all solvers accept projection regularization terms, such as a constraint to the positive numbers. Depending on the solver, such a term is either considered during every iteration or just in the last iteration. </p><p>A list of all available solvers can be returned by the <code>linearSolverList</code> function.</p><h2 id="Solver-Construction"><a class="docs-heading-anchor" href="#Solver-Construction">Solver Construction</a><a id="Solver-Construction-1"></a><a class="docs-heading-anchor-permalink" href="#Solver-Construction" title="Permalink"></a></h2><p>To create a solver, one can invoke the method <code>createLinearSolver</code> as in</p><pre><code class="language-julia hljs">solver = createLinearSolver(CGNR, A; reg=reg, kwargs...)</code></pre><p>Here <code>A</code> denotes the operator and reg are the <a href="../generated/explanations/regularization/">Regularization</a> terms to be used by the solver. All further solver parameters can be passed as keyword arguments and are solver specific. To make things more compact, it can be usefull to collect all parameters in a <code>Dict{Symbol,Any}</code>. In this way, the code snippet above can be written as</p><pre><code class="language-julia hljs">params=Dict{Symbol,Any}()
params[:reg] = ...
...

solver = createLinearSolver(CGNR, A; params...)</code></pre><p>This notation can be convenient when a large number of parameters are set manually.</p><p>It is also possible to construct a solver directly with its specific keyword arguments:</p><pre><code class="language-julia hljs">solver = CGNR(A, reg = reg, ...)</code></pre><h2 id="Solver-Usage"><a class="docs-heading-anchor" href="#Solver-Usage">Solver Usage</a><a id="Solver-Usage-1"></a><a class="docs-heading-anchor-permalink" href="#Solver-Usage" title="Permalink"></a></h2><p>Once constructed, a solver can be used to approximate a solution to a given measurement vector:</p><pre><code class="language-julia hljs">x_approx = solve!(solver, b; kwargs...)</code></pre><p>The keyword arguments can be used to supply an inital solution <code>x0</code>, one or more <code>callbacks</code> to interact and monitor the solvers state and more. See the How-To and the API for more information.</p><p>It is also possible to explicitly invoke the solvers iterations using Julias iterate interface:</p><pre><code class="language-julia hljs">init!(solver, b; kwargs...)
for (iteration, x_approx) in enumerate(solver)
    println(&quot;Iteration $iteration&quot;)
end</code></pre><h2 id="Solver-Internals"><a class="docs-heading-anchor" href="#Solver-Internals">Solver Internals</a><a id="Solver-Internals-1"></a><a class="docs-heading-anchor-permalink" href="#Solver-Internals" title="Permalink"></a></h2><p>The solvers are organized in a type-hierarchy and inherit from:</p><pre><code class="language-julia hljs">abstract type AbstractLinearSolver</code></pre><p>The type hierarchy is further differentiated into solver categories such as <code>AbstractRowAtionSolver</code>, <code>AbstractPrimalDualSolver</code> or <code>AbstractProximalGradientSolver</code>. </p><p>The fields of a solver can be divided into two groups. The first group are intended to be immutable fields that do not change during iterations, the second group are mutable fields that do change. Examples of the first group are the operator itself and examples of the second group are the current solution or the number of the current iteration.</p><p>The second group is usually encapsulated in its own state struct:</p><pre><code class="language-julia hljs">mutable struct Solver{matT, ...}
  A::matT
  # Other &quot;static&quot; fields
  state::AbstractSolverState{&lt;:Solver}
end

mutable struct SolverState{T, tempT} &lt;: AbstractSolverState{Solver}
  x::tempT
  rho::T
  # ...
  iteration::Int64
end</code></pre><p>States are subtypes of the parametric <code>AbstractSolverState{S}</code> type. The state fields of solvers can be exchanged with different state belonging to the correct solver <code>S</code>. This means that the states can be used to realize custom variants of an existing solver:</p><pre><code class="language-julia hljs">mutable struct VariantState{T, tempT} &lt;: AbstractSolverState{Solver}
  x::tempT
  other::tempT
  # ...
  iteration::Int64
end

SolverVariant(A; kwargs...) = Solver(A, VariantState(kwargs...))

function iterate(solver::Solver, state::VarianteState)
  # Custom iteration
end</code></pre></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../generated/examples/computed_tomography/">« Computed Tomography</a><a class="docs-footer-nextpage" href="../generated/explanations/regularization/">Regularization »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="auto">Automatic (OS)</option><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option><option value="catppuccin-latte">catppuccin-latte</option><option value="catppuccin-frappe">catppuccin-frappe</option><option value="catppuccin-macchiato">catppuccin-macchiato</option><option value="catppuccin-mocha">catppuccin-mocha</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.8.0 on <span class="colophon-date" title="Tuesday 26 November 2024 12:41">Tuesday 26 November 2024</span>. Using Julia version 1.11.1.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
